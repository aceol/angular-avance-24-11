<form class="card-body" [formGroup]="formGroup" (ngSubmit)="checkout($event)">
  <div class="mb-3">
    <label class="form-label" for="name">Nom</label>

    <input
      type="text"
      id="name"
      class="form-control"
      [class.is-invalid]="formGroup.controls['name'].touched && formGroup.controls['name'].invalid"
      [class.is-valid]="formGroup.controls['name'].valid"
      formControlName="name"
    />
    <div class="invalid-feedback">Champ obligatoire</div>
  </div>

  <div class="mb-3">
    <label class="form-label" for="address">Adresse</label>

    <textarea class="form-control" id="address" name="address"
      [class.is-invalid]="formGroup.controls['address'].touched && formGroup.controls['address'].invalid"
      [class.is-valid]="formGroup.controls['address'].valid"
      formControlName="address"></textarea>

    <div class="invalid-feedback">Champ obligatoire</div>
  </div>

  <div class="mb-3">
    <label class="form-label" for="creditCard">Numéro de carte de crédit</label>

    <input class="form-control" id="creditCard" name="creditCard"
      [class.is-invalid]="formGroup.controls['creditCard'].touched && formGroup.controls['creditCard'].invalid"
      [class.is-valid]="formGroup.controls['creditCard'].valid"
       formControlName="creditCard"/>

    <div class="invalid-feedback">
      @if(formGroup.controls['creditCard'].errors?.['required']){
        Champ obligatoire
      }
      @if(formGroup.controls['creditCard'].errors?.['pattern']){
        Le numéro doit être valide (ex. 123-456)
      }
    </div>
  </div>

  <button type="submit" class="btn btn-success" [disabled]="formGroup.invalid || formGroup.disabled">Valider</button>
</form>
